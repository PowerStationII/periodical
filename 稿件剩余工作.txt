剩余内容

1、稿件编辑直接返修：直接在登记也能，送审按钮后面增加返修按钮， 点击返修按钮， 跳转到返修页面，走原来的返修逻辑  1月24搞完  ok
	退稿：直接在登记页面，送审按钮后面增加退稿按钮，点击退稿按钮，跳转到退稿页面，走原来的退稿逻辑    1月24号搞完  ok  但是有些显示项没有弄出来

2、返修后，作者再次投稿  ！！！！！！！！！！

	2.1、稿件查询处，如果是返修，则增加再次投稿按钮  ok
	2.2、点击再次投稿按钮，跳转到文件上传页面，跳转到稿件重投页面（用原来的稿件详情页面） ok
	2.3、投稿时，把原稿的信息在数据库中复制一份，ContributeController.java   toContribute  ok
	2.4、整个过程就相当于新稿，也生成一个新的文章编号吧，用这个新的文章编号和原来的文章编号关联 ok
	2.5、增加了一个表，记录重投流水 ok
	2.6、需要做一个页面， 把第一次投稿的内容信息都给列出来，包括返修意见，就用稿件明细页面，改造一下
		这个稿件明细是一样的，只是附件，和意见不同，吧附件和意见拿出来就ok了
	2.7、如果返修的话， 那么原稿在稿件列表页面就查询不出来了， 只查询出来返修的稿件（稿件编号是返修后的稿件编号）  ok

3、赠刊（编辑部免费赠送全年杂志）、新增单个地址，还没弄 1月20 或者21 号搞完  ok（除去地址）

	增刊（编辑部免费邮寄杂志，每年只在3月份赠送一次，这个单独邮寄，是不是只是在发行编辑这有这个功能就可以）、22~23 搞完   ok
		

	送刊（作者投稿，刊登后，稿件编辑免费赠送当前杂志） ，1月19号搞完   ok 搞完

4、导出打印标签 ， 已经可以了，还差简版

8、还有4个统计，只统计表格就可以了  
9、排刊组稿之后， 打包下载，把所有的广告和文章下载下来

5、增加查询条件
6、页面美化
7、查询分页


------------
送刊
1、稿件编辑，把某一期所有的稿件查询出来
2、列出这个稿件的作者以及作者数量
3、给每个稿件指定邮寄的本数
4、保存，保存操作，记录作者邮编、通讯地址、单位、姓名、联系电话，单独保存到一个表中，用期刊号，刊号，文章号，作者号关联
			
			邮编、地址、联系电话、在address_info表中，通过作者id（setRefId）查询

			一个表 ， 每一期一个订单

				表一（赠送订单表）：期刊号、刊号、第几期、总赠送份数、order_no  (前三个参数是传入的，第四个参数是生成的)
				表二（赠送订单明细）：期刊号、刊号、第几期、文章号、赠送份数、（以上几个参数是传入的）
					邮编、通讯地址、单位、姓名、联系电话 ， 这个是通讯作者的（这几个参数是从别的表查询出来的，sql语句见下）

				SELECT * FROM author_info aui  LEFT JOIN address_info adi
				ON aui.author_id = adi.ref_id 
				 WHERE  article_id = 'A20160011' AND aui.isContacter = 'Y'

				赠刊订单号生成一下  ok


				发行编辑查询订单 ， 看看他这个分页是怎么写的
				1、列（订单号、期刊号、刊号、第几期、年）
					详细列（地址、联系人、联系电话、赠送分数）
					导出邮寄地址（直接调用就可以）
------------------------------

稿件状态：
	1、新稿 （作者刚刚提交的稿件）
	2、已登记 （编辑刚刚登记的稿件）
	3、已送审 （编辑刚刚给中文专家的稿件）
	4、已待刊 （中文专家审核完成）

bug：
1、读者稿件查询页面，分页多一条数据
2、稿件编辑新稿页面，分页多一条数据
3、中文专家稿件审核排序，按照时间倒叙									  ok
4、详情页面，基金项目，显示换成文字									  ok
5、中文专家待看之后， 就不能在审核   ， 已经修改等待验证						  ok
6、稿件编辑，左侧树，文字改成专家返修、专家退稿、专家待刊 ，顺序把专家待看放第一个    ；已经修改等待验证  ok
7、稿件编辑，稿件查询页的状态显示细分一下，这还有问题  ！！！！！！！！					  ok				  
8、稿件编辑，稿件查询页投稿时间，显示有问题								  ok
9、稿件编辑，点击待刊，进入待刊页面，专家意见没有显示出来						  ok
10、作者没有审稿意见查看了										  ok
11、审稿意见不能是弹出来的啊 ，要改成一个页面，这后期该吧
12、排刊组稿页面页面，增加一列年份选择，这个后续实现，后面可能还有一系列的动作！！！！！！！！！！！！！！！！！！其次要改
	1、修改排刊页面，选择要排哪年的刊，如果periodical已经有这年的数据了就直接取出来，如果没有就插入然后在取出来   ok
	2、签发编辑，查询条件增加年，列表显示增加年，签发这也要做成后台分页的，哎真多啊
	

	

13、英文专家审刊之后，送签发之后， 应该也可以查询出来，就是不让再次送签发了
14、广告管理页面（广告编辑的页面）增加长度限制，
15、会员编号要弄个规则，
16、广告组刊页面，应该有查看功能
17、广告排刊中，广告编号也得有个规则
18、广告排刊页面， 改成和稿件排刊页面一样的								  ok
19、密码变成MD5加密
20、看一下在作者投稿的时候， 验证通讯作者是否是必填项，并且地址是否是必填项				  ok
21、下载订购指南，换成新的
22、读者导入地址，先删除在导入										  ok
23、在读者端想办法怎么区分一下单位和个人，主要是让发行编辑这能够看到   !!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!! 首先要改；  修改了，那么企业读者和个人读者有什么区别呢
24、发行编辑，期刊邮寄改分页查询，增加查询条件 同订单管理
25、英文专家审核意见，没有地方存呢！！！！！！！！！！！！这个是个重点，不能数据不给人家存啊
26、发现编，送刊、增刊、赠刊 增加查询条件，增加后台分页
27、首页链接增加一下
28、读者上次订费附加，增加后缀限制
29、发现编辑这的， 期刊邮寄地址，怎么一个订单号，怎么出了两个订单
30、英文审核稿件，稿件重投后的审核之后，在打包下载的时候， 下载不下来！！！！   ok
31、送刊，看看邮寄地址，怎么没有进入到库里呢？！！！！！！  ok
32、增刊、赠刊、  ok

导出表， 4个统计


目前基本流程测试到   


1、广告流程走完												ok
2、编辑稿费
3、增刊、赠刊、送刊 走完 包括初始化数据   （送刊在稿件编辑那触发就可以；赠刊执行初始化sql，就可以进行操作；增刊现在增刊表增加一条数据就可以操作了）
4、发行编辑、读者订阅 弄完							
5、签发导出一个期刊的所有内容，包括文章和广告								ok
6、登录超时处理（修改app.properties文件中的url）							
7、流程测试几遍，给胡也进行测试
8、四个统计下周完成


INSERT INTO `zeng4kan_info` (periodical_id,periodical_issue_no,cycle_nums,zengSon_nums,order_no,YEAR)
    SELECT periodical_id,periodical_issue_no,cycle_nums,0,'ZK20150001',periodical_year FROM `periodical`










